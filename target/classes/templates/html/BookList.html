<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<link th:href="@{/css/header.css}" rel="stylesheet" />
<link th:href="@{/css/sidebar.css}" rel="stylesheet" />
<link th:href="@{/css/buttons.css}" rel="stylesheet" />
<link th:href="@{/css/fragment-orientation.css}" rel="stylesheet" />
<link th:href="@{/css/tables.css}" rel="stylesheet" />
<link th:href="@{/css/fonts.css}" rel="stylesheet" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<title>Book List</title>
</head>
<body>
<div th:replace = "fragments/SideNavigationBar :: sidenav"></div>
<form th:action="@{/home/listbookaction}" th:object="${book}"  method="POST">
<div class="container" align="center">
<p class="arial-header">Book List</p>
</div>
<table id="table1" class="content serial">
<thead>
  <tr>
  	<th>Sl No.</th>
    <th>Book Id</th>
    <th>Book Name</th>
    <th>Author Name</th>
    <th>Price</th>
    <th>Section Code</th>
    <th>Rack Code</th>
    <th>Status</th>
    <th>Edition</th>
    <th>Date Of Purchase</th>
    <th>Registered On</th>
    <th>Registered By</th>
    <th>Last Modified On</th>
    <th>Last Modified By</th>
    <th><input type="checkbox" onclick="toggleDelete(this);" />Delete all Books<br /></th>
  </tr>
  </thead>
  <tbody>
  <th:block th:each="book : ${bookList}">
    <tr>
    	<td></td>
        <td th:text="${book.bookId}"></td>
        <td th:text="${book.bookName}"></td>
        <td th:text="${book.authorName}"></td>
        <td th:text="${book.price}"></td>
        <td th:text="${book.sectionCode}"></td>
        <td th:text="${book.rackCode}"></td>
        <td th:text="${book.status}"></td>
        <td th:text="${book.edition}"></td>
        <td th:text="${book.dataOfPurchase}"></td>
        <td th:text="${book.createdOn}"></td>
        <td th:text="${book.createdBy}"></td>
        <td th:text="${book.lastModifiedOn}"></td>
        <td th:text="${book.lastModifiedBy}"></td>
        <td> <input th:type="checkbox" th:id="${book.authorName}" th:field="${book.deleteList}" th:value="${book.authorId}"/></td>
       
    </tr>
</th:block>
</tbody>
</table>
<br>
&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
<button type="submit" id = "delete" class = "button buttonblack content">Delete</button>
</form>
</body>
<script type="text/javascript">

function toggleDelete(source) {
    var checkboxes = document.querySelectorAll('input[type="checkbox"]');
    for (var i = 0; i < checkboxes.length; i++) {
        if (checkboxes[i] != source)
            checkboxes[i].checked = source.checked;
    }
}
</script>
</html>